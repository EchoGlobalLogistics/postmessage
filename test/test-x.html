<!doctype html>
<html>
  <!--
    Cross origin postmessage tests.
    This test-x.html works with iframe-x.html so just place the entire test/ directory under your webserver and
    adjust the "origin" and "target_url" in test.html and iframe.html.

    By default, text-x.html is served from http://127.0.0.1
    and iframe-x.html is served from http://localhost.
    Even though they resolve to the same thing, technically they are different origins.
  //!-->
  <head>
    <title>postmessge Test Suite</title>
    <link rel="stylesheet" href="qunit.css">
    <script src="qunit.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="../postmessage.js"></script>
    <script src="test.js"></script>
    <script>
      // change origin to where iframe-x.html is served from.
      // REMEMBER to change the <iframe src>
      var origin = "http://misc.dev";
      $(function() {
        // cross-origin
        bind("x-", null, origin);
        bind("#x-", true, origin);
      });
    </script>
    <style>
      body {margin:0;padding:0;}
      iframe {border:0;width:100%;height:100%;}
    </style>
  </head>
  <body>
    <iframe id="iframe" src="/postmessage/test/iframe-x.html" name="iframe" frameborder="0"></iframe>
  </body>
</html>
